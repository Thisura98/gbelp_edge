<div class="container">
    <app-dynamicsidebar [items]="sidebarItems" (onBack)="handleBack()">
    </app-dynamicsidebar>

    <div class="container2">
        <div class="nav">
            <h4 class="small-heading">
                Edit Levels
            </h4>
            <div class="buttons-separator nav-separator dyn-anim-fadein-delayed"></div>
            <!-- Level Selector -->
            <div class="select-lvl-container dyn-anim-fadein-delayed">
                <select class="dyn-select" placeholder="Select a game type" (change)="didSelectLevel($event)">
                    <option value="-1">Select a level...</option>
                    <option *ngFor="let level of gameLevels" value="{{level._id}}"
                        [selected]="level._id == selectedLevel?._id">
                        {{level.name}}
                    </option>
                </select>
            </div>
            <!-- End Level Editor -->
            <!-- Scene, Properties, Logic tabs -->

            <!--
            <ng-container *ngIf="selectedLevel != undefined">
                <div class="buttons-separator nav-separator dyn-anim-fadein-delayed"></div>
                <div class="editor-tabs dyn-anim-fadein-delayed">
                    <div class="editor-tab" [class.selected]="getSelectedTabIndex() == 0"
                        (click)="didSelectedEditorTab(0)">
                        <a [routerLink]="['/game/edit/editor/scene']" [queryParams]="editorQueryParams">
                            Scene
                        </a>
                    </div>
                    <div class="editor-tab-separator">
                        <img src="assets/game/graydot.png">
                    </div>
                    <div class="editor-tab" [class.selected]="getSelectedTabIndex() == 1"
                        (click)="didSelectedEditorTab(1)">
                        <a [routerLink]="['/game/edit/editor/properties']" [queryParams]="editorQueryParams">
                            Properties
                        </a>
                    </div>
                    <div class="editor-tab-separator">
                        <img src="assets/game/graydot.png">
                    </div>
                    <div class="editor-tab" [class.selected]="getSelectedTabIndex() == 2"
                        (click)="didSelectedEditorTab(2)">
                        <a [routerLink]="['/game/edit/editor/logic']" [queryParams]="editorQueryParams">
                            Logic
                        </a>
                    </div>
                </div>
            </ng-container>
            -->
            <div class="buttons-separator nav-separator dyn-anim-fadein-delayed"></div>
            <!-- Buttons -->
            <div class="nav-stretch buttons-container dyn-anim-fadein-delayed">
                <ng-container *ngIf="selectedLevel != undefined">
                    <div class="buttons-left">
                        <div class="dyn-btn clickable btn-save" [class.dyn-btn-disabled]="isProcessing"
                            (click)="saveGame(true)">
                            {{processingSaving ? "" : "Save Game"}}
                            <mat-progress-spinner class="saving-progress" *ngIf="processingSaving" [diameter]="20"
                                mode="indeterminate">
                            </mat-progress-spinner>
                        </div>
                        <div class="dyn-btn clickable" (click)="openHelpPressed()">Help</div>
                    </div>
                    <div class="buttons-right">
                        <div class="dyn-btn clickable btn-play-game" [class.dyn-btn-disabled]="isProcessing"
                            (click)="playGamePressed()">
                            <img class="btn-play-image" src="/assets/game/whitecontroller.png" />
                            <div class="btn-content">
                                <div class="btn-content-main">{{processingPlay ? "" : "Play"}}</div>
                                <mat-progress-spinner class="saving-progress" *ngIf="processingPlay" [diameter]="20"
                                    mode="indeterminate">
                                </mat-progress-spinner>
                                <!-- <div class="btn-content-sub">Win + N</div> -->
                            </div>
                        </div>
                        <div class="dyn-btn clickable btn-compile-game" [class.dyn-btn-disabled]="isProcessing"
                            (click)="compileGamePressed()">
                            <img class="btn-play-image" src="/assets/game/whitecontroller.png" />
                            <div class="btn-content">
                                <div class="btn-content-main">{{processingCompiling ? "" : "Compile"}}</div>
                                <mat-progress-spinner class="saving-progress" *ngIf="processingCompiling"
                                    [diameter]="20" mode="indeterminate">
                                </mat-progress-spinner>
                                <!-- <div class="btn-content-sub">Win + N</div> -->
                            </div>
                        </div>
                        <div class="dyn-btn clickable btn-compile-play" [class.dyn-btn-disabled]="isProcessing"
                            (click)="compileAndPlayGamePressed()">
                            <img class="btn-play-image" src="/assets/game/whitecontroller.png" />
                            <div class="btn-content">
                                <div class="btn-content-main">{{processingCompilingAndPlaying ? "" : "Compile & Play"}}
                                </div>
                                <mat-progress-spinner class="saving-progress" *ngIf="processingCompilingAndPlaying"
                                    [diameter]="20" mode="indeterminate">
                                </mat-progress-spinner>
                                <!-- <div class="btn-content-sub">Win + N</div> -->
                            </div>
                        </div>
                        <div class="buttons-separator"></div>
                    </div>
                </ng-container>
            </div>
            <!-- End Buttons -->
            <!-- User status -->
            <div class="editor-nav-right">
                <app-userstatus></app-userstatus>
            </div>
        </div>

        <ng-container *ngIf="didLoadData">
            <router-outlet></router-outlet>
        </ng-container>
    </div>

</div>