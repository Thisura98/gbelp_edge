<div class="container dyn-anim-fadein-delayed">
    <app-dynamicsidebar [items]="sidebarItems" (onBack)="handleBack()">
    </app-dynamicsidebar>

    <div class="container2">
        <div class="nav">
            <h4 class="small-heading">
                {{ title }}
            </h4>
            <app-userstatus></app-userstatus>
        </div>
        <div class="buttons">
            <div class="dyn-btn clickable btn-save" (click)="createButtonClicked()">{{ isEditMode ? 'Save' : 'Create' }}</div>
            <div class="dyn-btn clickable btn-cancel" (click)="cancelButtonClicked()">Cancel</div>
        </div>

        <div class="form-container dyn-form">

            <!-- Basic Details -->
            <div class="dyn-form-col">
                <div class="section-heading">
                    <h2 class="heading">Basic Details</h2>
                </div>
                <div class="dyn-form-row">
                    <div class="dyn-form-label">Game</div>
                    <select class="dyn-select" [(ngModel)]="selectedGame" [disabled]="isSelectedGameDisabled">
                        <option *ngIf="games == undefined || games.length == 0" selected value="">
                            No games to show
                        </option>
                        <option *ngIf="games != undefined && games.length > 0" selected value="">
                            Select a game
                        </option>
                        <option *ngFor="let game of games" value="{{game.id}}">{{game.name}}</option>
                    </select>
                </div>
                <div class="dyn-form-row">
                    <div class="dyn-form-label">State</div>
                    <select class="dyn-select" [(ngModel)]="selectedState" [class.dyn-select-disabled]="!isEditMode">
                        <option *ngFor="let state of states | keyvalue" value="{{ state.key }}">{{ state.value }}</option>
                    </select>
                </div>
            </div>
    
            <!-- Schedule -->
            <div class="dyn-form-col">
                <div class="section-heading">
                    <h2 class="heading">Schedule</h2>
                </div>
                <div class="dyn-form-row">
                    <div class="dyn-form-label">Start Date & Time</div>
                    <input class="dyn-textbox dyn-datetime" 
                        [(ngModel)]="startDateAndTime" 
                        (change)="validateDates()"
                        type="datetime-local" />
                </div>
                <div class="dyn-form-row">
                    <div class="dyn-form-label">End Date & Time</div>
                    <input class="dyn-textbox dyn-datetime" 
                        [(ngModel)]="endDateAndTime" 
                        (change)="validateDates()"
                        type="datetime-local" />
                </div>
                <div class="dyn-form-row">
                    <p id="schedule-summary" [class.summary-error]="hasDateError">{{sessionScheduleSummary}}</p>
                </div>
            </div>

        </div>

    </div>

</div>